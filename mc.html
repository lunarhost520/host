<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Minecraft Hosting - Create Server</title>
</head>
<body style="font-family: Arial; background: #111; color: #eee; text-align:center; padding: 20px;">
  <h1>üöÄ Create Your Minecraft Server</h1>
  
  <form id="serverForm">
    <label>User requesting server *</label><br>
    <input type="text" id="username" required><br><br>
    
    <label>Server name *</label><br>
    <input type="text" id="servername" required><br><br>
    
    <label>Software (paper/spigot/fabric/vanilla) *</label><br>
    <input type="text" id="software" required><br><br>
    
    <label>Minecraft version (1.8.9 ‚Üí 1.21.8) *</label><br>
    <input type="text" id="version" required><br><br>
    
    <button type="submit">üöÄ Create Server</button>
  </form>

  <p id="result"></p>

  <script>
    document.getElementById("serverForm").addEventListener("submit", async function(e) {
      e.preventDefault();

      let username = document.getElementById("username").value;
      let servername = document.getElementById("servername").value;
      let software = document.getElementById("software").value;
      let version = document.getElementById("version").value;

      // Call GitHub API to trigger workflow
      const response = await fetch(
        "https://api.github.com/repos/YOUR_USERNAME/YOUR_REPO/actions/workflows/create_colab.yml/dispatches",
        {
          method: "POST",
          headers: {
            "Accept": "application/vnd.github+json",
            "Authorization": "Bearer YOUR_GITHUB_PAT",  // use a GitHub token
          },
          body: JSON.stringify({
            ref: "main",
            inputs: {
              username: username,
              server_name: servername,
              software: software,
              version: version
            }
          })
        }
      );

      if (response.ok) {
        document.getElementById("result").innerText = "‚úÖ Workflow started! Check GitHub Actions for progress.";
      } else {
        document.getElementById("result").innerText = "‚ùå Failed to trigger workflow. Check console.";
        console.error(await response.text());
      }
    });
  </script>
</body>
</html>
